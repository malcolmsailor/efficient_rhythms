<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Efficient rhythms documentation</title>
  <style>
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <link rel="stylesheet" href="resources/third_party/github-markdown-css/github-markdown.css" />
  <link rel="stylesheet" href="resources/markdown-body.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body class="markdown-body">
<header id="title-block-header">
<h1 class="title">Efficient rhythms documentation</h1>
</header>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#installation">Installation</a><ul>
<li><a href="#dependencies-for-music-notation">Dependencies for music notation</a></li>
</ul></li>
<li><a href="#quick-start">Quick start</a></li>
<li><a href="#how-it-works">How it works</a><ul>
<li><a href="#harmony">Harmony</a></li>
<li><a href="#specifying-rhythms">Specifying rhythms</a></li>
</ul></li>
</ul>
</nav>
<h2 id="introduction">Introduction</h2>
<p>This script is a tool for musical composition. Here are a few examples of things I have made using it:</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/YgAUskvRWPM" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p><code>TODO add more videos here</code></p>
<p>The gist of how the script works goes as follows:</p>
<ul>
<li>first it makes an initial <strong>rhythmic</strong> pattern.</li>
<li>then it fills the rhythm with pitches.</li>
<li>finally, it repeats the pattern, adjusting it <strong>efficiently</strong> to fit any chord changes (hence the name “efficient rhythms”).</li>
</ul>
<p>You can then hear the results as a midi file. The script also provides a few tools (see <a href="#filters-and-transformers">Filters and Transformers</a>) for reshaping the results.</p>
<h2 id="installation">Installation</h2>
<p>The script requires Python &gt;= 3.8 and has the following Python dependencies:</p>
<ul>
<li>MIDIUtil</li>
<li>mido</li>
<li>numpy</li>
<li>pygame</li>
<li>python-rtmidi</li>
<li>termcolor</li>
</ul>
<p>These can be installed by running <code>pip3 install -r requirements.txt</code> in the script directory.</p>
<h3 id="dependencies-for-music-notation">Dependencies for music notation</h3>
<p>If you want the script to output music notation, then the following must be in your path:</p>
<ul>
<li>convert (part of <a href="https://www.imagemagick.org/">ImageMagick</a>)</li>
<li><a href="https://gitlab.mister-muffin.de/josch/img2pdf">img2pdf</a></li>
<li><a href="https://www.verovio.org/">verovio</a></li>
</ul>
<p>The first two can be installed as follows:</p>
<pre><code>brew install imagemagick # replace &quot;brew&quot; with your system package manager if not on macOS
pip3 install img2pdf</code></pre>
<p>Verovio installation instructions are <a href="https://github.com/rism-ch/verovio/wiki/Building-instructions#command-line-tool">here</a>.</p>
<h2 id="quick-start">Quick start</h2>
<p>To quickly try the script out, you can run it with the default settings:</p>
<p><code>python3 efficient_rhythms.py</code></p>
<p>You can also try running it with randomized settings, although be warned that the results are sometimes strange:</p>
<p><code>python3 efficient_rhythms.py --random</code></p>
<p>There are many configurable settings that shape the output. Full documentation is available in <a href="settings.html"><code>settings.html</code></a>. But a gentler introduction is provided in the next section.</p>
<h2 id="how-it-works">How it works</h2>
<p>The basic settings that control the script are</p>
<ul>
<li><code>rhythm_len</code>: the length of the basic rhythm</li>
<li><code>pattern_len</code>: the length of the initial pattern</li>
<li><code>harmony_len</code>: the length of each harmony (i.e., chord)</li>
</ul>
<p>For instance, in <a href="#example1"><code>docs/examples/example1.py</code></a>, the initial pattern is two beats long (i.e., <code>pattern_len = 2</code>). Each harmony, however, is four beats (<code>harmony_len = 4</code>). Thus you can see that the pattern repeats twice on each harmony, and is then adjusted to fit the next harmony.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<p><span id="example1"><strong>Example:</strong> <code>docs/examples/example1.py</code></span><br><img src="resources/svgs/example1.svg" class="notation" alt="example1 notation" /> <img src="resources/pngs/example1_00001.png" class="piano_roll" style="max-height: 300px" alt="example1 piano roll" /> <audio src="resources/m4as/example1.m4a" controls=""><a href="resources/m4as/example1.m4a">example1 audio</a></audio></p>
<p>Whenever <code>rhythm_len</code> is not set explicitly, it is implicitly assigned the value of <code>pattern_len</code>. So in the example above, <code>rhythm_len</code> was implicitly assigned <code>2</code>. In <a href="#example2"><code>docs/examples/example2.py</code></a>, in contrast, we set <code>pattern_len = 4</code>, but <code>rhythm_len = 2</code>. Thus, if you look and/or listen carefully, you’ll find that the same rhythm repeats twice on each harmony, but with different notes each time—the entire pattern of pitches takes four beats to repeat, and by the time it does, its pitches are somewhat different, having been adjusted to the new harmony.<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
<p><span id="example2"><strong>Example:</strong> <code>docs/examples/example2.py</code></span><br><img src="resources/svgs/example2.svg" class="notation" alt="example2 notation" /> <img src="resources/pngs/example2_00001.png" class="piano_roll" style="max-height: 300px" alt="example2 piano roll" /> <audio src="resources/m4as/example2.m4a" controls=""><a href="resources/m4as/example2.m4a">example2 audio</a></audio></p>
<p>We aren’t constrained to have <code>pattern_len</code> be a whole multiple of <code>rhythm_len</code>. In <a href="#example3"><code>docs/examples/example3.py</code></a>, <code>pattern_len</code> is still <code>4</code>, but <code>rhythm_len = 1.5</code>, so now every third time the rhythm occurs, it is truncated (a bit like a 3–3–2 <em>tresillo</em> pattern).</p>
<p><span id="example3"><strong>Example:</strong> <code>docs/examples/example3.py</code></span><br><img src="resources/svgs/example3.svg" class="notation" alt="example3 notation" /> <img src="resources/pngs/example3_00001.png" class="piano_roll" style="max-height: 300px" alt="example3 piano roll" /> <audio src="resources/m4as/example3.m4a" controls=""><a href="resources/m4as/example3.m4a">example3 audio</a></audio></p>
<p>Up to now, we’ve always specified the same settings in both voices. But we need not do so! In the <a href="#example4"><code>docs/examples/example4.py</code></a>, the bottom voice again has <code>rhythm_len = 1.5</code>, but the top voice now has <code>rhythm_len = 2</code>.</p>
<p><span id="example4"><strong>Example:</strong> <code>docs/examples/example4.py</code></span><br><img src="resources/svgs/example4.svg" class="notation" alt="example4 notation" /> <img src="resources/pngs/example4_00001.png" class="piano_roll" style="max-height: 300px" alt="example4 piano roll" /> <audio src="resources/m4as/example4.m4a" controls=""><a href="resources/m4as/example4.m4a">example4 audio</a></audio></p>
<p>We can also have different values of <code>pattern_len</code> in each voice, as in <a href="#example5"><code>docs/examples/example5.py</code></a>. However, if we do so, the script has to work quite a bit harder to find a solution. To help it do so, I made its task a little easier by changing <a href="settings.html#consonance_treatment"><code>consonance_treatment</code></a> from <code>"all_attacks"</code> to <code>"none"</code>. Thus whereas in the previous examples, the simultaneously attacked notes all formed intervals like 3rds and fifths, in <a href="#example5"><code>docs/examples/example5.py</code></a>, there are also dissonances like 7ths and 9ths.</p>
<p><span id="example5"><strong>Example:</strong> <code>docs/examples/example5.py</code></span><br><img src="resources/svgs/example5.svg" class="notation" alt="example5 notation" /> <img src="resources/pngs/example5_00001.png" class="piano_roll" style="max-height: 300px" alt="example5 piano roll" /> <audio src="resources/m4as/example5.m4a" controls=""><a href="resources/m4as/example5.m4a">example5 audio</a></audio></p>
<p>Up until now, whenever one pattern or rhythm didn’t line up with the other, we have truncated the shorter one, so that subsequent repetitions began together in both voices. But the script doesn’t require this. In <a href="#example6"><code>docs/examples/example6.py</code></a>, I have changed <a href="settings.html#truncate_patterns"><code>truncate_patterns</code></a> to <code>False</code>. Now the 1.5-beat pattern in the lower part isn’t truncated after 4 beats. Instead, it is displaced relative to both the 4-beat pattern in the upper part, as well as the 4-beat harmony changes. (The two patterns finally come into sync after 12 beats, the least-common-multiple of 1.5 and 4.)</p>
<p><span id="example6"><strong>Example:</strong> <code>docs/examples/example6.py</code></span><br><img src="resources/svgs/example6.svg" class="notation" alt="example6 notation" /> <img src="resources/pngs/example6_00001.png" class="piano_roll" style="max-height: 300px" alt="example6 piano roll" /> <audio src="resources/m4as/example6.m4a" controls=""><a href="resources/m4as/example6.m4a">example6 audio</a></audio></p>
<p>Another feature of all the examples up to now is that <code>harmony_len</code> has always been at least as long as <code>pattern_len</code>. But there’s no reason why this has to be so. In <a href="#example7"><code>docs/examples/example7.py</code></a>, I’ve set <code>harmony_len = 2</code> but <code>pattern_len = 4</code> so that each pattern covers two harmonies.</p>
<p><span id="example7"><strong>Example:</strong> <code>docs/examples/example7.py</code></span><br><img src="resources/svgs/example7.svg" class="notation" alt="example7 notation" /> <img src="resources/pngs/example7_00001.png" class="piano_roll" style="max-height: 300px" alt="example7 piano roll" /> <audio src="resources/m4as/example7.m4a" controls=""><a href="resources/m4as/example7.m4a">example7 audio</a></audio></p>
<h3 id="harmony">Harmony</h3>
<p>In the preceding sections, we looked at how to adjust the lengths of patterns, rhythms and harmonies. Now we’ll see how to specify chords and scales to create harmonic progressions.<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a></p>
<p>The most straightforward way is to specify all chords and scales explicitly. As a first example, I’ve specified <a href="https://youtu.be/5pidokakU4I">one of the most (over?-)used chord progressions</a> in pop music, the I-V-vi-IV progression, in C major. The results are in <a href="#harmony_example1"><code>docs/examples/harmony_example1.py</code></a>. The relevant lines in <code>harmony_example1.py</code> are</p>
<pre><code>&quot;foot_pcs&quot;: (&quot;C&quot;, &quot;G&quot;, &quot;A&quot;, &quot;F&quot;),
&quot;chords&quot;: (&quot;MAJOR_TRIAD&quot;, &quot;MAJOR_TRIAD&quot;, &quot;MINOR_TRIAD&quot;, &quot;MAJOR_TRIAD&quot;),
&quot;scales&quot;: (&quot;MAJOR_SCALE&quot;, &quot;MIXOLYDIAN&quot;, &quot;AEOLIAN&quot;, &quot;LYDIAN&quot;),</code></pre>
<p><span id="harmony_example1"><strong>Example:</strong> <code>docs/examples/harmony_example1.py</code></span><br><img src="resources/svgs/harmony_example1.svg" class="notation" alt="harmony_example1 notation" /> <img src="resources/pngs/harmony_example1_00001.png" class="piano_roll" style="max-height: 300px" alt="harmony_example1 piano roll" /> <audio src="resources/m4as/harmony_example1.m4a" controls=""><a href="resources/m4as/harmony_example1.m4a">harmony_example1 audio</a></audio></p>
<p>There’s a lot to explain here:</p>
<ol type="1">
<li>Strings like <code>"C"</code> and <code>"MAJOR_TRIAD"</code> name constants that are defined in <code>src\er_constants.py</code>. If you know any music theory, the meaning of the constants above shouldn’t require any further explanation now. <code>TODO document er_constants and add a link to it here</code></li>
<li>We call the “main bass note” of each chord its “foot”. <code>TODO document "foots" and add a link here</code></li>
<li>Each foot is associated with the chord and the scale in the same serial position. Both the chord and the scale will be transposed so that they begin on the foot. Thus, there is a one-to-one correspondence between chords and scales (much like the “chord-scale” approach sometimes used in jazz pedagogy).</li>
</ol>
<p>We can easily put the progression into another key by changing <code>foot_pcs</code>. For instance, here it is in E major:</p>
<pre><code>&quot;foot_pcs&quot;: (&quot;E&quot;, &quot;B&quot;, &quot;C#&quot;, &quot;A&quot;),
&quot;chords&quot;: (&quot;MAJOR_TRIAD&quot;, &quot;MAJOR_TRIAD&quot;, &quot;MINOR_TRIAD&quot;, &quot;MAJOR_TRIAD&quot;),
&quot;scales&quot;: (&quot;MAJOR_SCALE&quot;, &quot;MIXOLYDIAN&quot;, &quot;AEOLIAN&quot;, &quot;LYDIAN&quot;),</code></pre>
<p>There are no constaints on <code>foot_pcs</code>, so we can get a different progression by changing <code>foot_pcs</code> arbitrarily. For example, in <a href="#harmony_example2"><code>docs/examples/harmony_example2.py</code></a> I’ve changed the middle two members of <code>foot_pcs</code> to create a more chromatic progression:</p>
<pre><code>&quot;foot_pcs&quot;: (&quot;E&quot;, &quot;G&quot;, &quot;D&quot;, &quot;A&quot;), # was (&quot;E&quot;, &quot;B&quot;, &quot;C#&quot;, &quot;A&quot;)
&quot;chords&quot;: (&quot;MAJOR_TRIAD&quot;, &quot;MAJOR_TRIAD&quot;, &quot;MINOR_TRIAD&quot;, &quot;MAJOR_TRIAD&quot;),
&quot;scales&quot;: (&quot;MAJOR_SCALE&quot;, &quot;MIXOLYDIAN&quot;, &quot;AEOLIAN&quot;, &quot;LYDIAN&quot;),</code></pre>
<p><span id="harmony_example2"><strong>Example:</strong> <code>docs/examples/harmony_example2.py</code></span><br><img src="resources/svgs/harmony_example2.svg" class="notation" alt="harmony_example2 notation" /> <img src="resources/pngs/harmony_example2_00001.png" class="piano_roll" style="max-height: 300px" alt="harmony_example2 piano roll" /> <audio src="resources/m4as/harmony_example2.m4a" controls=""><a href="resources/m4as/harmony_example2.m4a">harmony_example2 audio</a></audio></p>
<p>There are, however, two important constraints on <code>chords</code> and <code>scales</code>.</p>
<ol type="1">
<li>All the items of <code>chords</code> must have the same number of pitch-classes, and all the items of <code>scales</code> must as well. This means, for example, you can’t go from a major triad to a seventh chord, or from a major scale to a whole-tone scale. (You can, however, use scales or chords with any number of pitch-classes you like—as long as that number remains the same.) There is a technical reason for this constraint, (namely, that the script works by finding bijective voice-leadings between chords and scales), but in the longterm, I would very much like to remove it.</li>
<li>Every scale must be a superset of the associated chord. So, for example
<ul>
<li><code>"MAJOR_TRIAD"</code> will work with <code>"MAJOR_SCALE"</code>, <code>"MIXOLYDIAN"</code>, or any other scale that contains a major triad beginning on its first pitch</li>
<li><code>"MAJOR_TRIAD"</code> will <em>not</em> work with <code>"AEOLIAN"</code>, <code>"DORIAN"</code>, etc., because these scales contain a minor triad beginning on their first pitch</li>
</ul></li>
</ol>
<p>Both <code>chords</code> and <code>scales</code> will be looped through if they are shorter than <code>foot_pcs</code>. <a href="#harmony_example3"><code>docs/examples/harmony_example3.py</code></a> illustrates with the following short loop:</p>
<pre><code>    &quot;foot_pcs&quot;: (&quot;E&quot;, &quot;G&quot;),
    &quot;chords&quot;: (&quot;MAJOR_TRIAD&quot;,), # the trailing commas before the parentheses
    &quot;scales&quot;: (&quot;MIXOLYDIAN&quot;,),  #   are necessary!</code></pre>
<p><span id="harmony_example3"><strong>Example:</strong> <code>docs/examples/harmony_example3.py</code></span><br><img src="resources/svgs/harmony_example3.svg" class="notation" alt="harmony_example3 notation" /> <img src="resources/pngs/harmony_example3_00001.png" class="piano_roll" style="max-height: 300px" alt="harmony_example3 piano roll" /> <audio src="resources/m4as/harmony_example3.m4a" controls=""><a href="resources/m4as/harmony_example3.m4a">harmony_example3 audio</a></audio></p>
<p><code>chords</code> and <code>scales</code> do not have to be the same length as <a href="#harmony_example4"><code>docs/examples/harmony_example4.py</code></a> demonstrates:</p>
<pre><code>    &quot;foot_pcs&quot;: (&quot;E&quot;, &quot;G&quot;, &quot;E&quot;, &quot;C&quot;),
    &quot;chords&quot;: (&quot;MAJOR_TRIAD&quot;,),
    &quot;scales&quot;: (&quot;MIXOLYDIAN&quot;, &quot;LYDIAN&quot;),</code></pre>
<p><span id="harmony_example4"><strong>Example:</strong> <code>docs/examples/harmony_example4.py</code></span><br><img src="resources/svgs/harmony_example4.svg" class="notation" alt="harmony_example4 notation" /> <img src="resources/pngs/harmony_example4_00001.png" class="piano_roll" style="max-height: 300px" alt="harmony_example4 piano roll" /> <audio src="resources/m4as/harmony_example4.m4a" controls=""><a href="resources/m4as/harmony_example4.m4a">harmony_example4 audio</a></audio></p>
<p>So far, the length of the progression has always been taken implicitly from the length of <code>foot_pcs</code>. But it is also possible to set the length of the progression explicitly, using <code>num_harmonies</code>, as in <a href="#harmony_example5"><code>docs/examples/harmony_example5.py</code></a>. Doing so allows us to create “pedal points” on a repeated bass note:</p>
<pre><code>    &quot;num_harmonies&quot;: 4,
    &quot;foot_pcs&quot;: (&quot;D&quot;,),
    # This example also illustrates a strategy for simulating mixing seventh
    #   chords with triads, using incomplete seventh chords.
    &quot;chords&quot;: (&quot;MAJOR_7TH_NO5&quot;, &quot;DOMINANT_7TH_NO3&quot;, &quot;MAJOR_64&quot;, &quot;MAJOR_63&quot;),
    &quot;scales&quot;: (&quot;MAJOR_SCALE&quot;, &quot;MIXOLYDIAN&quot;, &quot;DORIAN&quot;, &quot;AEOLIAN&quot;),</code></pre>
<p><span id="harmony_example5"><strong>Example:</strong> <code>docs/examples/harmony_example5.py</code></span><br><img src="resources/svgs/harmony_example5.svg" class="notation" alt="harmony_example5 notation" /> <img src="resources/pngs/harmony_example5_00001.png" class="piano_roll" style="max-height: 300px" alt="harmony_example5 piano roll" /> <audio src="resources/m4as/harmony_example5.m4a" controls=""><a href="resources/m4as/harmony_example5.m4a">harmony_example5 audio</a></audio></p>
<p>Another useful setting for creating harmonic progressions is <code>interval_cycle</code>. If we pass <code>interval_cycle</code> to the script, then any values of <code>foot_pcs</code> beyond the first are ignored. Instead, the progression of <code>foot_pcs</code> is created by repeatedly progressing upwards by <code>interval_cycle</code>. See <a href="#harmony_example6"><code>docs/examples/harmony_example6.py</code></a>:</p>
<pre><code>    &quot;num_harmonies&quot;: 4,
    &quot;interval_cycle&quot;: &quot;PERFECT_4TH&quot;,
    &quot;foot_pcs&quot;: (&quot;Eb&quot;,),
    # The preceding three lines are equivalent to:
    #   `&quot;foot_pcs&quot;: (&quot;Eb&quot;, &quot;Ab&quot;, &quot;Db&quot;, &quot;Gb&quot;)`
    &quot;chords&quot;: (&quot;MAJOR_TRIAD&quot;,),
    &quot;scales&quot;: (&quot;MAJOR_SCALE&quot;,),</code></pre>
<p><span id="harmony_example6"><strong>Example:</strong> <code>docs/examples/harmony_example6.py</code></span><br><img src="resources/svgs/harmony_example6.svg" class="notation" alt="harmony_example6 notation" /> <img src="resources/pngs/harmony_example6_00001.png" class="piano_roll" style="max-height: 300px" alt="harmony_example6 piano roll" /> <audio src="resources/m4as/harmony_example6.m4a" controls=""><a href="resources/m4as/harmony_example6.m4a">harmony_example6 audio</a></audio></p>
<p><code>interval_cycle</code> can also consist of more than one interval, as in <a href="#harmony_example7"><code>docs/examples/harmony_example7.py</code></a>. (Note that, since the intervals in <code>interval_cycle</code> are always understood <em>upwards</em>, <code>"MINOR_6TH"</code> in this example is equivalent to a descending major third.)</p>
<pre><code>    &quot;num_harmonies&quot;: 4,
    &quot;interval_cycle&quot;: (&quot;PERFECT_4TH&quot;, &quot;MINOR_6TH&quot;),
    &quot;foot_pcs&quot;: (&quot;Eb&quot;,),
    # The preceding three lines are equivalent to:
    #   `&quot;foot_pcs&quot;: (&quot;Eb&quot;, &quot;Ab&quot;, &quot;E&quot;, &quot;A&quot;)`
    &quot;chords&quot;: (&quot;MAJOR_TRIAD&quot;,),
    &quot;scales&quot;: (&quot;MAJOR_SCALE&quot;,),</code></pre>
<p><span id="harmony_example7"><strong>Example:</strong> <code>docs/examples/harmony_example7.py</code></span><br><img src="resources/svgs/harmony_example7.svg" class="notation" alt="harmony_example7 notation" /> <img src="resources/pngs/harmony_example7_00001.png" class="piano_roll" style="max-height: 300px" alt="harmony_example7 piano roll" /> <audio src="resources/m4as/harmony_example7.m4a" controls=""><a href="resources/m4as/harmony_example7.m4a">harmony_example7 audio</a></audio></p>
<p>Before concluding this introduction to specifying harmonies, I should add a few words about what the script actually does with <code>chords</code> and <code>scales</code>.</p>
<ul>
<li><code>scales</code> are used unconditionally: during each harmony, pitches are drawn exclusively from the associated scale. When a pattern is voice-led from one harmony to another, a bijective mapping is effected between the associated scales.</li>
<li>the use of <code>chords</code> is more contingent. The most important relevant settings are
<ul>
<li>if <code>chord_tone_selection</code> is <code>True</code>, then when constructing the initial pattern, the script probabilistically decides whether each note should be a chord-tone (according to <a href="settings.html#chord-tone-settings">parameters that you specify</a>).</li>
<li>if <code>voice_lead_chord_tones</code> is <code>True</code>, then when voice-leading the pattern over subsequent harmonies, the script will ensure that chord-tones are mapped to chord-tones (and non-chord-tones to non-chord-tones).</li>
</ul></li>
</ul>
<p>In the preceding examples of this section both <code>chord_tone_selection</code> and <code>voice_lead_chord_tones</code> have been <code>True</code>. As a contrasting illustration, <a href="#harmony_example8"><code>docs/examples/harmony_example8.py</code></a> repeats the settings of <a href="#harmony_example6"><code>docs/examples/harmony_example6.py</code></a>, with the sole difference that <code>voice_lead_chord_tones</code> is now set to <code>False</code>. (Note, however, that the settings <code>force_foot_in_bass = True</code> and <code>extend_bass_range_for_foots = 7</code> in <code>examples/harmony_example_base.py</code> are still causing the foot of each scale/chord to sound on beat one of each harmony.)</p>
<p><span id="harmony_example8"><strong>Example:</strong> <code>docs/examples/harmony_example8.py</code></span><br><img src="resources/svgs/harmony_example8.svg" class="notation" alt="harmony_example8 notation" /> <img src="resources/pngs/harmony_example8_00001.png" class="piano_roll" style="max-height: 300px" alt="harmony_example8 piano roll" /> <audio src="resources/m4as/harmony_example8.m4a" controls=""><a href="resources/m4as/harmony_example8.m4a">harmony_example8 audio</a></audio></p>
<p><a href="#harmony_example9"><code>docs/examples/harmony_example9.py</code></a> is similar, but with <code>chord_tone_selection = False</code> as well.</p>
<p><span id="harmony_example9"><strong>Example:</strong> <code>docs/examples/harmony_example9.py</code></span><br><img src="resources/svgs/harmony_example9.svg" class="notation" alt="harmony_example9 notation" /> <img src="resources/pngs/harmony_example9_00001.png" class="piano_roll" style="max-height: 300px" alt="harmony_example9 piano roll" /> <audio src="resources/m4as/harmony_example9.m4a" controls=""><a href="resources/m4as/harmony_example9.m4a">harmony_example9 audio</a></audio></p>
<h3 id="specifying-rhythms">Specifying rhythms</h3>
<p><code>TODO</code></p>
<section class="footnotes" role="doc-endnotes">
<hr />
<ol>
<li id="fn1" role="doc-endnote"><p>You can find the settings files that generated all the examples in this section in the <code>docs/examples</code> folder. <code>docs/examples/example_base.py</code> is shared among each example. So you can build the first example with the command <code>python3 efficient_rhythms.py --settings docs/examples/example_base.py docs/examples/example1.py</code>; for subsequent examples, just replace <code>example1.py</code> with the appropriate file.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2" role="doc-endnote"><p>The music-theoretically fastidious among you may have observed that these examples contain plentiful parallel fifths (for example, the first two sixteenth-notes in <a href="#example2"><code>docs/examples/example2.py</code></a>). If desired, parallel fifths could be avoided by including <code>7</code> in the sequence provided to the setting <code>prohibit_parallels</code>.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3" role="doc-endnote"><p>The settings files that generated the examples in this section all begin with <code>harmony_example</code> and are found in the <code>docs/examples</code> folder. <code>docs/examples/harmony_example_base.py</code> is shared among each example. So you can build the first example with the command <code>python3 efficient_rhythms.py --settings docs/examples/harmony_example_base.py docs/examples/harmony_example1.py</code>.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>
</body>
</html>
